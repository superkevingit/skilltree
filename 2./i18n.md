# github版本

> 3b9ae9c4988a222757d9a92aac708c4e628b1199

# 文件路径

`typecho/var/Typecho/I18n.php`
`typecho/var/Typecho/I18n/GetText.php`
`typecho/var/Typecho/I18n/GetTextMulti.php`

# 分析I18n.php

一个翻译类需要：设置语言，读取语言，更改语言的函数；然后需要翻译函数（翻译复数，语义化时间等）

```php

function _t($string);
function _e();
function _n($single, $plural, $number);

class Typecho_I18n
    private static $_loaded = false;
    private static $_lang = NULL;
    
    private static function init();
    public static function translate($string)
    public static function ngettext($single, $plural, $number)
    public static function dateWord($from, $now)
    public static function setLang($lang)
    public static function addLang($lang)
    public static function getLang()

_e()调用_t(),对传入_e()的参数进行翻译，返回void
_t()调用translate($string)进行翻译,返回string
_n()调用ngettext($single, $plural, $number)

使用的标准库函数：
func_num_args();
func_get_args();
array_shift();
vsprintf();
call_user_func_array();

```

# I18n/GetText.php